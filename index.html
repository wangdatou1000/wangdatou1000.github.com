<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Wangdatou1000.GitHub.com by wangdatou1000</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Wangdatou1000.GitHub.com</h1>
      <h2 class="project-tagline"></h2>
    </section>

    <section class="main-content">
      <h1>
<a id="wangdatou1000githubio" class="anchor" href="#wangdatou1000githubio" aria-hidden="true"><span class="octicon octicon-link"></span></a>wangdatou1000.github.io</h1>

<h2>
<a id="个人博测试" class="anchor" href="#%E4%B8%AA%E4%BA%BA%E5%8D%9A%E6%B5%8B%E8%AF%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>个人博测试</h2>

<h1>
<a id="字符串匹配的sunday算法" class="anchor" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E7%9A%84sunday%E7%AE%97%E6%B3%95" aria-hidden="true"><span class="octicon octicon-link"></span></a><a href="README.md">字符串匹配的sunday算法</a>
</h1>

<div class="highlight highlight-java"><pre><span class="pl-k">package</span> <span class="pl-smi">string</span>;
<span class="pl-c">/**</span>
<span class="pl-c"> * 功能描述：sunday字符串匹配算法，java实现。 1,Sunday算法是Daniel</span>
<span class="pl-c"> * M.Sunday于1990年提出的一种比BM算法搜索速度更快的算法。</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * 2,Sunday算法其实思想跟BM算法很相似，只不过Sunday算法是从前往后匹配， 在匹配失败时关注的是文本串中参加匹配的最末位字符的下一位字符。</span>
<span class="pl-c"> * 如果该字符没有在匹配串中出现则直接跳过，即移动步长= 匹配串长度+ 1；否则，同BM算法一样其移动步长=匹配串中最右端的该字符到末尾的距离+1。</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * @author 王世杰</span>
<span class="pl-c"> * @version 1.0, 2015年4月22日 下午2:38:26</span>
<span class="pl-c"> */</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">SundayForSubString</span> {

    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">main</span>(<span class="pl-k">String</span>[] <span class="pl-v">args</span>) {

    }

    <span class="pl-k">public</span> <span class="pl-k">int</span> <span class="pl-en">indexOf</span>(<span class="pl-smi">String</span> <span class="pl-v">text</span>, <span class="pl-smi">String</span> <span class="pl-v">pattern</span>) {
        <span class="pl-k">if</span> (text <span class="pl-k">==</span> <span class="pl-c1">null</span> <span class="pl-k">||</span> pattern <span class="pl-k">==</span> <span class="pl-c1">null</span>)
            <span class="pl-k">return</span> <span class="pl-k">-</span><span class="pl-c1">1</span>;
        <span class="pl-k">final</span> <span class="pl-k">int</span> n <span class="pl-k">=</span> text<span class="pl-k">.</span>length();
        <span class="pl-k">final</span> <span class="pl-k">int</span> m <span class="pl-k">=</span> pattern<span class="pl-k">.</span>length();
        <span class="pl-k">if</span> (m <span class="pl-k">&gt;</span> n <span class="pl-k">||</span> m <span class="pl-k">==</span> <span class="pl-c1">0</span>)
            <span class="pl-k">return</span> <span class="pl-k">-</span><span class="pl-c1">1</span>;
        <span class="pl-k">int</span> i <span class="pl-k">=</span> <span class="pl-c1">0</span>, j <span class="pl-k">=</span> <span class="pl-c1">0</span>;
        <span class="pl-k">int</span> ti <span class="pl-k">=</span> <span class="pl-c1">0</span>, tj <span class="pl-k">=</span> <span class="pl-c1">0</span>;
        <span class="pl-k">final</span> <span class="pl-k">char</span>[] t <span class="pl-k">=</span> text<span class="pl-k">.</span>toCharArray();
        <span class="pl-k">final</span> <span class="pl-k">char</span>[] p <span class="pl-k">=</span> pattern<span class="pl-k">.</span>toCharArray();
        <span class="pl-k">while</span> (i <span class="pl-k">&lt;</span> n <span class="pl-k">&amp;&amp;</span> j <span class="pl-k">&lt;</span> m) {
            <span class="pl-c">/* 先左对齐往右挨个比较，如果相同则比较下一个。 */</span>
            <span class="pl-k">if</span> (t[i] <span class="pl-k">==</span> p[j]) {
                i<span class="pl-k">++</span>;
                j<span class="pl-k">++</span>;
            } <span class="pl-k">else</span> {
                <span class="pl-c">/*</span>
<span class="pl-c">                 * 等出现不相同字符时，则将长字符串相对短标字符串尾部下一个字符与短标字符串比较， 比较顺序是从短标字符末尾开始往头逆序比较。</span>
<span class="pl-c">                 */</span>
                ti <span class="pl-k">=</span> i <span class="pl-k">+</span> m <span class="pl-k">-</span> j;<span class="pl-c">// 尾部的下一个字符为比较字符</span>
                tj <span class="pl-k">=</span> m <span class="pl-k">-</span> <span class="pl-c1">1</span>;<span class="pl-c">// 从尾部开始</span>
                <span class="pl-k">if</span> (ti <span class="pl-k">&gt;=</span> n)
                    <span class="pl-k">break</span>;<span class="pl-c">// 如果比较字符不存在，则结束比较。</span>
                <span class="pl-k">for</span> (; tj <span class="pl-k">&gt;=</span> <span class="pl-c1">0</span> <span class="pl-k">&amp;&amp;</span> t[ti] <span class="pl-k">!=</span> p[tj]; tj<span class="pl-k">--</span>)
                    ;<span class="pl-c">// 如果不相同就一直比较，直到相同为止。</span>
                i <span class="pl-k">=</span> i <span class="pl-k">-</span> j <span class="pl-k">+</span> m <span class="pl-k">-</span> tj;<span class="pl-c">// 设置字符串移动后的的位置，也就是j相对长的位置，</span>
                j <span class="pl-k">=</span> <span class="pl-c1">0</span>;<span class="pl-c">// 从短字符串头部开始比较</span>
            }
            <span class="pl-c">// 进行新一轮的比较</span>
        }
        <span class="pl-c">// 比较结束后，看j与m是否相等，相等则比较完成找到了字符串，并返回短字符串在长字符串中的起始位置，</span>
        <span class="pl-c">// 如果不相等则没有匹配到，返回-1。</span>
        <span class="pl-k">return</span> j <span class="pl-k">==</span> m <span class="pl-k">?</span> (i <span class="pl-k">-</span> j) <span class="pl-k">:</span> <span class="pl-k">-</span><span class="pl-c1">1</span>;
    }

}
</pre></div>

      <footer class="site-footer">

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

